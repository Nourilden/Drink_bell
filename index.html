<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <title>DrinkBell</title>
  <link rel="stylesheet" href="styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3.2.0/dist/email.min.js"></script>
  <link rel="icon" href="Drinkbell.ico" type="image/icon">
</head>
<body>
  <div class="container">
    <header>
      <h1>DrinkBell</h1>
      <p>Select a drink and additions to send a request</p>
      <button id="lang-toggle" style="position:absolute;top:20px;left:20px;">EN</button>
    </header>

    <main>
      <section class="drink-selection">
        <h2>Select Drink</h2>
        <div class="drink-options">
          <div class="drink-option" data-drink="Coffee">
            <img src="data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2250%22%20height%3D%2250%22%20viewBox%3D%220%200%2050%2050%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2210%22%20y%3D%2210%22%20width%3D%2230%22%20height%3D%2235%22%20rx%3D%223%22%20fill%3D%22%236F4E37%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2215%22%20y%3D%225%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20fill%3D%22%23DDDDDD%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Ctext%20x%3D%2225%22%20y%3D%2230%22%20font-size%3D%228%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3Ecoffee%3C%2Ftext%3E%0A%20%20%20%20%3C%2Fsvg%3E" alt="Coffee">
            <span>Coffee</span>
          </div>
          <div class="drink-option" data-drink="Tea">
            <img src="data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2250%22%20height%3D%2250%22%20viewBox%3D%220%200%2050%2050%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2210%22%20y%3D%2210%22%20width%3D%2230%22%20height%3D%2235%22%20rx%3D%223%22%20fill%3D%22%23B5651D%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2215%22%20y%3D%225%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20fill%3D%22%23DDDDDD%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Ctext%20x%3D%2225%22%20y%3D%2230%22%20font-size%3D%228%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3Etea%3C%2Ftext%3E%0A%20%20%20%20%3C%2Fsvg%3E" alt="Tea">
            <span>Tea</span>
          </div>
          <div class="drink-option" data-drink="Hibiscus">
            <img src="data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2250%22%20height%3D%2250%22%20viewBox%3D%220%200%2050%2050%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2210%22%20y%3D%2210%22%20width%3D%2230%22%20height%3D%2235%22%20rx%3D%223%22%20fill%3D%22%23FF3855%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2215%22%20y%3D%225%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20fill%3D%22%23DDDDDD%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Ctext%20x%3D%2225%22%20y%3D%2230%22%20font-size%3D%228%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3Ehibiscus%3C%2Ftext%3E%0A%20%20%20%20%3C%2Fsvg%3E" alt="Hibiscus">
            <span>Hibiscus</span>
          </div>
          <div class="drink-option" data-drink="Soft Drink">
            <img src="data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2250%22%20height%3D%2250%22%20viewBox%3D%220%200%2050%2050%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2210%22%20y%3D%2210%22%20width%3D%2230%22%20height%3D%2235%22%20rx%3D%223%22%20fill%3D%22%231E90FF%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2215%22%20y%3D%225%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20fill%3D%22%23DDDDDD%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Ctext%20x%3D%2225%22%20y%3D%2230%22%20font-size%3D%228%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3Esoft%20drink%3C%2Ftext%3E%0A%20%20%20%20%3C%2Fsvg%3E" alt="Soft Drink">
            <span>Soft Drink</span>
          </div>
          <div class="drink-option" data-drink="Water">
            <img src="data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2250%22%20height%3D%2250%22%20viewBox%3D%220%200%2050%2050%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2210%22%20y%3D%2210%22%20width%3D%2230%22%20height%3D%2235%22%20rx%3D%223%22%20fill%3D%22%2387CEEB%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2215%22%20y%3D%225%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20fill%3D%22%23DDDDDD%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Ctext%20x%3D%2225%22%20y%3D%2230%22%20font-size%3D%228%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3Ewater%3C%2Ftext%3E%0A%20%20%20%20%3C%2Fsvg%3E" alt="Water">
            <span>Water</span>
          </div>
          <div class="drink-option" data-drink="Juice">
            <img src="data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2250%22%20height%3D%2250%22%20viewBox%3D%220%200%2050%2050%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2210%22%20y%3D%2210%22%20width%3D%2230%22%20height%3D%2235%22%20rx%3D%223%22%20fill%3D%22%23FFA500%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Crect%20x%3D%2215%22%20y%3D%225%22%20width%3D%2220%22%20height%3D%225%22%20rx%3D%221%22%20fill%3D%22%23DDDDDD%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3Ctext%20x%3D%2225%22%20y%3D%2230%22%20font-size%3D%228%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3Ejuice%3C%2Ftext%3E%0A%20%20%20%20%3C%2Fsvg%3E" alt="Juice">
            <span>Juice</span>
          </div>
        </div>
      </section>

      <section class="additions-selection">
        <h2>Select Additions</h2>
        <div class="additions-options">
          <div class="addon-option" data-addon="Sugar">
            <span>Sugar</span>
          </div>
          <div class="addon-option" data-addon="Milk">
            <span>Milk</span>
          </div>
          <div class="addon-option" data-addon="Ice">
            <span>Ice</span>
          </div>
          <div class="addon-option" data-addon="Lemon">
            <span>Lemon</span>
          </div>
        </div>

        <div class="custom-addition">
          <label for="customAddonInput">Custom Addition:</label>
          <input type="text" id="customAddonInput" placeholder="Enter custom addition">
          <button id="add-custom">Add</button>
        </div>

        <div id="custom-additions-list"></div>
      </section>

      <section class="request-section">
  <div class="name-section">
    <label for="nameInput">الاسم:</label>
    <input type="text" id="nameInput" placeholder="أدخل اسمك">
  </div>
  <div class="comment-section">
    <label for="commentInput">تعليق إضافي:</label>
    <textarea id="commentInput" placeholder="اكتب تعليقك هنا"></textarea>
  </div>
  <div class="container">
    <div class="status-box" id="statusBox">Selected: None<br>Additions: None</div>
  </div>
  <button id="send-request">Send Request</button>
</section>
    </main>

    <div id="notification" class="notification">
      <div class="notification-content">
        <h3>Request Sent!</h3>
        <p>Your drink request has been sent successfully.</p>
        <p>A notification has been sent to the recipient's phone.</p>
        <button id="close-notification">Close</button>
      </div>
    </div>
  </div>

  <script>
// Initialize EmailJS with your User ID
(function() {
  emailjs.init("LUoDMEQQhr_ja3Ec3"); // Replace with your actual EmailJS User ID
})();

// DOM Elements
const drinkOptions = document.querySelectorAll('.drink-option');
const addonOptions = document.querySelectorAll('.addon-option');
const customAddonInput = document.getElementById('customAddonInput');
const addCustomBtn = document.getElementById('add-custom');
const customAddonsList = document.getElementById('custom-additions-list');
const sendRequestBtn = document.getElementById('send-request');
const statusBox = document.getElementById('statusBox');
const notification = document.getElementById('notification');
const closeNotificationBtn = document.getElementById('close-notification');

// Selected drink and additions
let selectedDrink = null;
let selectedAddons = [];
let customAddons = [];

// Get the currently selected drink
function getSelectedDrink() {
  const selected = document.querySelector('.drink-option.selected');
  return selected ? selected.dataset.drink : null;
}

// Get all selected additions
function getSelectedAddons() {
  return Array.from(document.querySelectorAll('.addon-option.selected'))
              .map(el => el.dataset.addon);
}

// Send the drink request via EmailJS
function sendRequest() {
  selectedDrink = getSelectedDrink();
  selectedAddons = getSelectedAddons();

  const customAddon = customAddonInput.value.trim();
  if (customAddon) {
    selectedAddons.push(customAddon);
  }
  selectedAddons = [...selectedAddons, ...customAddons];

  if (!selectedDrink) {
    alert("يرجى اختيار مشروب أولاً!");
    return;
  }

  // Get comment value
  const comment = document.getElementById('commentInput').value.trim();

  // Get name value
  const name = document.getElementById('nameInput').value.trim();

  // Prepare request data
  const requestData = {
    name: name || "غير معروف",
    drink: selectedDrink,
    additions: selectedAddons.length ? selectedAddons.join(", ") : "بدون إضافات",
    comment: comment ? comment : "بدون تعليق",
    time: new Date().toLocaleString()
  };

  // Update status box
  statusBox.innerHTML = `المشروب المختار: ${selectedDrink}<br>الإضافات: ${requestData.additions}<br>التعليق: ${requestData.comment}`;

  // Send email using EmailJS
  emailjs.send('service_0xj5szc', 'template_5kk3fkg', requestData)
    .then(function(response) {
      showNotification();
      resetSelections();
    }, function(error) {
      alert('فشل في إرسال الطلب. حاول مرة أخرى.');
    });
}

// Show success notification
function showNotification() {
  notification.classList.add('show');
}

// Close notification
function closeNotification() {
  notification.classList.remove('show');
}

// Reset all selections
function resetSelections() {
  // Clear drink selection
  document.querySelectorAll('.drink-option').forEach(el => el.classList.remove('selected'));
  
  // Clear addition selections
  document.querySelectorAll('.addon-option').forEach(el => el.classList.remove('selected'));
  
  // Clear custom additions
  customAddonInput.value = '';
  customAddons = [];
  customAddonsList.innerHTML = '';
}

// Add custom addition to the list
function addCustomAddition() {
  const addition = customAddonInput.value.trim();
  if (addition) {
    customAddons.push(addition);
    
    const additionItem = document.createElement('div');
    additionItem.className = 'custom-addon-item';
    additionItem.innerHTML = `
      <span>${addition}</span>
      <button class="remove-addon">×</button>
    `;
    
    customAddonsList.appendChild(additionItem);
    customAddonInput.value = '';
    
    // Add click event to remove button
    additionItem.querySelector('.remove-addon').addEventListener('click', function() {
      const index = customAddons.indexOf(addition);
      if (index > -1) {
        customAddons.splice(index, 1);
      }
      additionItem.remove();
    });
  }
}

// Translations
const translations = {
  en: {
    title: "DrinkBell",
    selectDrink: "Select Drink",
    selectAdditions: "Select Additions",
    customAddition: "Custom Addition:",
    customAdditionPlaceholder: "Enter custom addition",
    add: "Add",
    sendRequest: "Send Request",
    selected: "Selected: None",
    additions: "Additions: None",
    commentLabel: "Additional Comment:",
    commentPlaceholder: "Write your comment here",
    requestSent: "Request Sent!",
    requestSuccess: "Your drink request has been sent successfully.",
    requestNotify: "A notification has been sent to the recipient's phone.",
    close: "Close",
    drinks: ["Coffee", "Tea", "Hibiscus", "Soft Drink", "Water", "Juice"],
    addons: ["Sugar", "Milk", "Ice", "Lemon"]
  },
  ar: {
    title: "جرس المشروبات",
    selectDrink: "اختر المشروب",
    selectAdditions: "اختر الإضافات",
    customAddition: "إضافة مخصصة:",
    customAdditionPlaceholder: "أدخل إضافة مخصصة",
    add: "إضافة",
    sendRequest: "إرسال الطلب",
    selected: "لم يتم اختيار مشروب",
    additions: "بدون إضافات",
    commentLabel: "تعليق إضافي:",
    commentPlaceholder: "اكتب تعليقك هنا",
    requestSent: "تم إرسال الطلب!",
    requestSuccess: "تم إرسال طلب المشروب بنجاح.",
    requestNotify: "تم إرسال إشعار إلى هاتف المستلم.",
    close: "إغلاق",
    drinks: ["قهوة", "شاي", "كركديه", "مشروب غازي", "ماء", "عصير"],
    addons: ["سكر", "حليب", "ثلج", "ليمون"]
  }
};

function setLanguage(lang) {
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";
  document.querySelector("title").textContent = translations[lang].title;
  document.querySelector("header h1").textContent = translations[lang].title;
  document.querySelector("header p").textContent = lang === "ar"
    ? "اختر مشروبًا والإضافات لإرسال الطلب"
    : "Select a drink and additions to send a request";
  document.querySelector(".drink-selection h2").textContent = translations[lang].selectDrink;
  document.querySelector(".additions-selection h2").textContent = translations[lang].selectAdditions;
  document.querySelector(".custom-addition label").textContent = translations[lang].customAddition;
  document.getElementById("customAddonInput").placeholder = translations[lang].customAdditionPlaceholder;
  document.getElementById("add-custom").textContent = translations[lang].add;
  document.getElementById("send-request").textContent = translations[lang].sendRequest;
  document.getElementById("statusBox").innerHTML = translations[lang].selected + "<br>" + translations[lang].additions;
  document.querySelector(".comment-section label").textContent = translations[lang].commentLabel;
  document.getElementById("commentInput").placeholder = translations[lang].commentPlaceholder;
  document.querySelector("#notification h3").textContent = translations[lang].requestSent;
  document.querySelector("#notification p:nth-of-type(1)").textContent = translations[lang].requestSuccess;
  document.querySelector("#notification p:nth-of-type(2)").textContent = translations[lang].requestNotify;
  document.getElementById("close-notification").textContent = translations[lang].close;

  // Drinks
  document.querySelectorAll('.drink-option').forEach((el, i) => {
    el.querySelector('span').textContent = translations[lang].drinks[i];
  });
  // Addons
  document.querySelectorAll('.addon-option').forEach((el, i) => {
    el.querySelector('span').textContent = translations[lang].addons[i];
  });

  // Toggle button text
  document.getElementById("lang-toggle").textContent = lang === "ar" ? "EN" : "AR";
  // Save to localStorage
  localStorage.setItem("lang", lang);
}

// Toggle language on button click
document.getElementById("lang-toggle").addEventListener("click", function() {
  const currentLang = localStorage.getItem("lang") || "ar";
  setLanguage(currentLang === "ar" ? "en" : "ar");
});

// On page load, set language from localStorage or default to Arabic
document.addEventListener("DOMContentLoaded", function() {
  setLanguage(localStorage.getItem("lang") || "ar");
});

// Event Listeners
document.addEventListener('DOMContentLoaded', function() {
  // Drink selection
  drinkOptions.forEach(option => {
    option.addEventListener('click', function() {
      drinkOptions.forEach(opt => opt.classList.remove('selected'));
      this.classList.add('selected');
    });
  });

  // Addition selection
  addonOptions.forEach(option => {
    option.addEventListener('click', function() {
      this.classList.toggle('selected');
    });
  });

  // Add custom addition
  addCustomBtn.addEventListener('click', addCustomAddition);
  
  // Allow adding custom addition with Enter key
  customAddonInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      addCustomAddition();
    }
  });

  // Send request
  sendRequestBtn.addEventListener('click', sendRequest);
  
  // Close notification
  closeNotificationBtn.addEventListener('click', closeNotification);
});
  </script>

  <style>
    .name-section {
  margin: 20px 0 0 0;
  background: #f9fafd;
  border-radius: 10px;
  padding: 14px 14px 10px 14px;
  box-shadow: 0 2px 8px rgba(25, 118, 210, 0.04);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.name-section label {
  font-weight: 600;
  color: #1976d2;
  margin-bottom: 4px;
}

.name-section input {
  border: 1.5px solid #b0bec5;
  border-radius: 8px;
  padding: 10px;
  font-size: 1.05em;
  background: #fff;
  transition: border 0.2s, box-shadow 0.2s;
}

.name-section input:focus {
  border: 1.5px solid #1976d2;
  box-shadow: 0 2px 8px rgba(25, 118, 210, 0.08);
  outline: none;
}

.comment-section {
  margin: 24px 0 16px 0;
  background: #f9fafd;
  border-radius: 10px;
  padding: 18px 14px 10px 14px;
  box-shadow: 0 2px 8px rgba(25, 118, 210, 0.06);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.comment-section label {
  font-weight: 600;
  color: #1976d2;
  margin-bottom: 4px;
}

.comment-section textarea {
  border: 1.5px solid #b0bec5;
  border-radius: 8px;
  padding: 12px;
  font-size: 1.05em;
  min-height: 60px;
  max-height: 180px;
  resize: vertical;
  background: #fff;
  transition: border 0.2s, box-shadow 0.2s;
}

.comment-section textarea:focus {
  border: 1.5px solid #1976d2;
  box-shadow: 0 2px 8px rgba(25, 118, 210, 0.08);
  outline: none;
}
  </style>
</body>
</html>
